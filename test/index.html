<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>3D Line</title>
  <style>body { margin: 0; overflow: hidden; }</style>
</head>
<body>
  <!-- THREE.js -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.153.0/build/three.min.js"></script>
  <!-- OrbitControls -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.153.0/examples/js/controls/OrbitControls.min.js"></script>
  <!-- lil-gui -->
  <script src="https://cdn.jsdelivr.net/npm/lil-gui@0.18/dist/lil-gui.min.js"></script>

  <script>
    // Your main.js code here, modified to use globals THREE, THREE.OrbitControls, and lil.GUI

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(
      75,
      window.innerWidth / window.innerHeight,
      0.1,
      1000
    );
    camera.position.set(2, 5, 6);

    const renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setClearColor(0xffffff);
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    const controls = new THREE.OrbitControls(camera, renderer.domElement);

    const lines = [];

    function addLine(startCoords, endCoords, color = 0xff0000) {
      const start = new THREE.Vector3(...startCoords);
      const end = new THREE.Vector3(...endCoords);
      const points = [start, end];

      const geometry = new THREE.BufferGeometry().setFromPoints(points);
      const material = new THREE.LineBasicMaterial({ color });
      const line = new THREE.Line(geometry, material);

      scene.add(line);
      lines.push(line);
    }

    function animate() {
      requestAnimationFrame(animate);
      controls.update();
      renderer.render(scene, camera);
    }
    animate();

    const params = {
      rodLength: 3,
      rimHeight: 3,
      rodCount: 18,
      stringCount: 6,
    };

    function rebuildStructure() {
      lines.forEach(line => scene.remove(line));
      lines.length = 0;

      addLine([0, 0, 0], [1, 0, 0], 0xff0000);
      addLine([0, 0, 0], [0, 1, 0], 0x00ff00);
      addLine([0, 0, 0], [0, 0, 1], 0x0000ff);

      const { rodLength, rimHeight, rodCount, stringCount } = params;

      for (let i = 0; i < rodCount; i++) {
        addLine([0, 0, 0], [
          Math.cos(2 * Math.PI * i / rodCount) * rodLength,
          rimHeight,
          Math.sin(2 * Math.PI * i / rodCount) * rodLength,
        ], 0x009977);

        addLine([
          Math.cos(2 * Math.PI * i / rodCount) * rodLength,
          rimHeight,
          Math.sin(2 * Math.PI * i / rodCount) * rodLength,
        ], [
          Math.cos(2 * Math.PI * (i + 1) / rodCount) * rodLength,
          rimHeight,
          Math.sin(2 * Math.PI * (i + 1) / rodCount) * rodLength,
        ], 0x00aaaa);

        for (let j = 0; j < stringCount; j++) {
          addLine([
            Math.cos(2 * Math.PI * i / rodCount) * rodLength / stringCount * (j + 1),
            rimHeight / stringCount * (j + 1),
            Math.sin(2 * Math.PI * i / rodCount) * rodLength / stringCount * (j + 1),
          ], [
            Math.cos(2 * Math.PI * (i + rodCount / 2) / rodCount) * rodLength / stringCount * (stringCount - j),
            rimHeight / stringCount * (stringCount - j),
            Math.sin(2 * Math.PI * (i + rodCount / 2) / rodCount) * rodLength / stringCount * (stringCount - j),
          ], 0xaaaaaa);
        }
      }
    }

    const gui = new lil.GUI();
    gui.add(params, 'rodLength', 0, 10).onChange(rebuildStructure);
    gui.add(params, 'rimHeight', 1, 10).onChange(rebuildStructure);
    gui.add(params, 'rodCount', 4, 64, 2).onChange(rebuildStructure);
    gui.add(params, 'stringCount', 1, 20, 1).onChange(rebuildStructure);

    rebuildStructure();
  </script>
</body>
</html>

~/Code/Portable_Dish/insinglefine 
